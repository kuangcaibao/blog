[TOC]

# 1. çˆ¶çº§è·¯å¾„æ€»æ˜¯ activeï¼Œå½“å­è·¯å¾„è¢«æ¿€æ´»çš„æ—¶å€™

2ç§è§£å†³æ–¹æ³•ï¼š

- IndexLink

		import { IndexLink } from "react-router"

		<IndexLink to="/" activeClassName="avtive">Home</IndexLink>

- onlyActiveOnIndex å±æ€§

		<Link to="/" activeClassName="active" onlyActiveOnIndex={true}>Home</Link>


# 2. SPA åº”ç”¨åœ¨ `react-router` ä¸‹ï¼Œå…¶ä»–è·¯å¾„æŠ¥ 404

ä¸Šæ®µ `server.js` çš„ä»£ç 

	var webpack = require('webpack')
	var webpackDevMiddleware = require('webpack-dev-middleware')
	var webpackHotMiddleware = require('webpack-hot-middleware')
	var config = require('./webpack.config.js')
	var path = require("path")

	var express = require("express")
	var app = new express()
	var port = 3000

	var compiler = webpack(config)
	app.use(webpackDevMiddleware(compiler, { 
		noInfo: true, 
		publicPath: config.output.publicPath,
		contentBase: ".",
		historyApiFallback: true 
	}))
	app.use(webpackHotMiddleware(compiler))

	// å°†exampleæŒ‡å‘æµè§ˆå™¨çš„æ ¹ç›®å½•
	app.use("/", express.static("example"))

	// è¿™é‡Œå°†node_modulesæ·»åŠ åˆ°é™æ€è·¯å¾„ï¼Œå¯ä»¥è·å–ç¬¬3æ–¹åŒ…çš„minæ–‡ä»¶
	app.use("/node_modules", express.static("node_modules"))

	app.listen(port, function(error) {
	  if (error) {
	    console.error(error)
	  } else {
	    console.info("==> ğŸŒ  Listening on port %s. Open up http://localhost:%s/ in your browser.", port, port)
	  }
	})

åœ¨è¿™ä¸ªé‡Œé¢è¾“å…¥ `localhost:3000` è¾“å‡º `example/index.html` æ–‡ä»¶ã€‚å¦‚æœè¿™ä¸ª `index.html` é¡µé¢æ˜¯ä¸€ä¸ª `SPA` é¡µé¢ï¼Œé‚£ä¹ˆ
ä¼šæœ‰å…¶ä»–çš„è·¯å¾„ï¼Œæ¯”å¦‚ `localhost:3000/about` è¿™æ ·ï¼Œé‚£ä¹ˆç›´æ¥åœ¨æµè§ˆå™¨è·¯å¾„ä¸­è¾“å…¥è¿™ä¸ªåœ°å€ï¼Œä¼šæŠ¥ `404` é”™è¯¯ã€‚

å› ä¸ºè¿™ä¸ªåœ°æ–¹çš„è·¯å¾„è¢« `server.js` æ¥ç®¡äº†ï¼Œè€Œä¸æ˜¯ `react-router`ã€‚é‚£ä¹ˆæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ

	app.get('*', function(req, res) {
	  res.sendFile(path.join(__dirname, 'example/index.html'));
	});

åŠ ä¸Šä¸Šé¢çš„ä»£ç ï¼Œæœªè¢«åŒ¹é…çš„è·¯å¾„ç›´æ¥è½¬åˆ° `example/index.html`ï¼Œè¿™æ ·è¾“å…¥çš„è·¯å¾„å°±ä¼šè¢« `react-router` å¤„ç†äº†ã€‚

å‚è€ƒï¼š

<https://github.com/webpack/webpack-dev-middleware/issues/46>

<https://github.com/gaearon/react-transform-boilerplate/blob/master/devServer.js>